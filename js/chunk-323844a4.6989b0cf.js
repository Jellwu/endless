(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-323844a4"],{6288:function(t,a,e){},"9c65":function(t,a,e){"use strict";var s=e("6288"),i=e.n(s);i.a},a53e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"about"},[e("cartMessage"),t._m(0),0===t.cart.carts.length?e("div",{staticClass:"no-carts"},[e("div",[e("p",{staticClass:"text-endless"},[t._v("目前沒有選購任何商品")]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-outline-warning",attrs:{to:"/productList"}},[e("span",{staticClass:"underline"},[t._v(" 來去逛逛 "),e("i",{staticClass:"fas fa-shipping-fast"})])])],1)])]):0!==t.cart.carts.length?e("div",[e("div",{staticClass:"container my-5"},[t._m(1),e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-md-12 mt-5"},[e("table",{staticClass:"table-borderless table-striped text-endless",class:{table:t.screenWidth>380,"table-sm":t.screenWidth<=375}},[t._m(2),e("tbody",{staticClass:"cartOrder-content"},t._l(t.sortedArray,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e("button",{staticClass:"btn text-danger",attrs:{type:"button",name:"button"},on:{click:function(e){return e.preventDefault(),t.removeCart(a.id)}}},[e("i",{staticClass:"fas fa-trash"})])]),e("td",{staticClass:"row d-flex align-items-center",staticStyle:{"vertical-align":"middle"}},[e("img",{staticClass:"img-fluid col-md-3",staticStyle:{width:"15px"},attrs:{src:a.product.imageUrl}}),e("div",{staticClass:"col-md-9"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getproductId(a.product.id)}}},[t._v(" "+t._s(a.product.title)+" ")]),a.final_total!==a.total?e("p",{staticClass:"text-success"},[t._v(" 已套用優惠券 ")]):t._e()])]),e("td",{staticClass:"text-center p-0 cancelAlter",staticStyle:{"vertical-align":"middle"}},[t._l(t.tempdropCart,(function(s){return e("div",{key:s.id,staticClass:"cancelBox",class:{"fadeInRight-cart":s.id===a.id,"fadeOutRight-cart":s.qty>0}},[e("div",{staticClass:"text-white d-flex flex-column align-items-center justify-content-center",staticStyle:{height:"100%"}},[e("p",{staticClass:"text-dark h6 mb-1"},[t._v("刪除品項?")]),e("div",[e("div",{attrs:{id:"button-addon3"}},[e("button",{staticClass:"btn btn-outline-dark mr-2 h6",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.removeCart(s.id)}}},[t._v(" 是 ")]),e("button",{staticClass:"btn btn-outline-dark h6",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),a.qty=1}}},[t._v(" 否 ")])])])])])})),a.final_total!==a.total?e("p",{staticClass:"text-endless"},[t._v(" "+t._s(a.qty)+" ")]):a.final_total===a.total?e("div",{staticClass:"input-group input-group-sm pl-2"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-warning moblieHide",attrs:{type:"button",id:"button-addon1"},on:{click:function(e){return e.preventDefault(),t.changNum(a.product_id,-1)}}},[e("i",{staticClass:"fas fa-minus"})])]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.qty,expression:"items.qty"}],staticClass:"text-center text-dark border-warning",attrs:{type:"number",min:"0",max:"100"},domProps:{value:a.qty},on:{change:function(e){return e.preventDefault(),t.changNum(a.product_id,a.qty)},input:function(e){e.target.composing||t.$set(a,"qty",e.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-warning moblieHide",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return e.preventDefault(),t.changNum(a.product_id,1)}}},[e("i",{staticClass:"fas fa-plus"})])])]):t._e()],2),e("td",{staticClass:"text-right",staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t._f("currency")(a.product.price*a.qty)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"4"}},[e("button",{staticClass:"btn btn-outline-warning mb-1",class:{discursor:t.isDisabled},attrs:{type:"button",name:"button",disabled:t.isDisabled},on:{click:function(a){return a.preventDefault(),t.updateCartqty()}}},[t._v(" 更新購物車 ")])])]),e("tr",{staticClass:"cartOrder-content"},[t._m(3),e("td",{staticClass:"text-right px-0 py-2"},[e("span",{staticClass:"ml-4 mr-0"},[t._v(t._s(t._f("currency")(t.cart.total)))])])])])])])]),e("div",{staticClass:"row d-flex justify-content-around bg-cart-box no-gutters p-3 mt-4"},[t._m(4),e("div",{staticClass:"col-md-5 d-flex justify-content-end align-items-end"},[e("div",{staticClass:"overview-text text-endless mt-4"},[e("p",{staticClass:"pt-3 pr-2"},[t._v("共計 "),e("span",{staticClass:"text-warning"},[t._v(t._s(t.cart.carts.length))]),t._v(" 項商品")]),t.cart.final_total!==t.cart.total?e("p",{staticClass:"pr-2"},[e("span",{staticClass:"badge badge-pill badge-warning"},[t._v("已輸入優惠券")]),e("br"),t._v(" 結帳金額："),e("span",{staticClass:"text-warning"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t.cart.final_total===t.cart.total?e("p",{staticClass:"pr-2"},[t._v(" 結帳金額："),e("span",{staticClass:"text-warning"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e(),e("div",{staticClass:"pb-2"},[t.cart.final_total!==t.cart.total?e("div",{staticClass:"input-group ml-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入優惠券號碼","aria-label":"Recipient's username","aria-describedby":"button-addon2",disabled:""},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:t.cancelCoupon}},[t._v("取消")])])]):t.cart.final_total===t.cart.total?e("div",{staticClass:"input-group ml-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入優惠券號碼","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-sm btn-outline-warning",attrs:{type:"button",id:"button-addon2"},on:{click:t.getCoupon}},[t._v("優惠券")])])]):t._e()])])])]),e("div",{staticClass:"col-md-12 text-right mt-3"},[e("router-link",{attrs:{to:"/cart_info"}},[e("button",{staticClass:"btn btn-warning",class:{discursor:t.disNext},attrs:{type:"button",name:"button",disabled:t.disNext}},[t._v(" 下一步 ")])])],1)])]):t._e()],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product-banner d-flex align-items-center justify-content-center"},[e("div",{},[e("h1",{staticClass:"text-endless"},[t._v("購物車列表")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row d-flex d-flex justify-content-between align-items-center"},[e("div",{staticClass:"col-md-8"},[e("h2",{staticClass:"text-white"},[t._v(" Step 1. 確認商品 ")])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"pay-process"},[e("ul",{staticClass:"d-flex justify-content-between"},[e("li",{staticClass:"pay-process-1 complited-1"}),e("li",{staticClass:"pay-process-2"}),e("li",{staticClass:"pay-process-3"})])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"text-endless h5"},[e("th",{staticClass:"h2 bg-warning text-dark text-center py-3",attrs:{colspan:"4"}},[t._v(" 購物車清單 ")]),e("tr",[e("td",{staticClass:"text-center"},[t._v("功能")]),e("td",[t._v("產品")]),e("td",[t._v("數量")]),e("td",{staticClass:"text-right"},[t._v("單價")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"text-right",staticStyle:{"vertical-align":"bottom"},attrs:{colspan:"3"}},[e("p",[t._v("總計金額：")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-7"},[e("ul",{staticClass:"noticed-item text-endless mt-3 pl-4"},[e("h4",{staticClass:"pb-2"},[e("i",{staticClass:"far fa-hand-point-right mr-2"}),t._v("注意事項")]),e("li",{staticClass:"text-warning"},[t._v("數量修改後需更新購物車才能執行下一步。")]),e("li",{staticClass:"text-warning"},[t._v("輸入優惠券後不可修改數量，取消優惠券後即可修改。")]),e("li",[t._v("確認所填寫的資料是否正確，若因資料不全而退貨，需負擔運費。")]),e("li",[t._v("收到商品後請確認本體(含外盒)是否有破損，於七天內提出瑕疵申請。")]),e("li",[t._v("本商品目前只供應台灣地區，只提供宅配到府。")])])])}],n=(e("99af"),e("4de4"),e("4160"),e("fb6a"),e("159b"),e("5530")),r=e("2f62"),c=e("c9aa"),o={name:"Cart",data:function(){return{couponCode:"",message:"",alterCart:[],disNext:!1,isDisabled:!0,tempdropCart:{product:{}},alertShow:!1,screenWidth:0}},computed:Object(n["a"])({},Object(r["c"])("cartModules",["cart"]),{sortedArray:function(){var t=function(t,a){return t.product.title<a.product.title?-1:t.product.title>a.product.title?1:0};return this.cart.carts.slice(0).sort(t)}}),methods:{getCart:function(){this.$store.dispatch("cartModules/getCart")},getproductId:function(t){this.$router.push("/productList/".concat(t))},removeCart:function(t){this.$store.dispatch("cartModules/removeCart",t),this.alterCart=[],this.getCart()},getCoupon:function(){this.$store.dispatch("cartModules/applyCounpon",this.couponCode)},cancelCoupon:function(){this.$store.dispatch("cartModules/cancelCoupon","ORIGINP0")},changNum:function(t,a){var e=this;1===Math.abs(parseInt(a))?e.cart.carts.forEach((function(e,s){e.product_id===t&&(e.qty=parseInt(e.qty)+parseInt(a),e.qty>=99?e.qty=99:e.qty<=0&&(e.qty=0))})):e.cart.carts.forEach((function(e,s){e.product_id===t&&(e.qty=parseInt(a),e.qty>=99?e.qty=99:e.qty<=0&&(e.qty=0))}));var s=[],i=JSON.parse(localStorage.getItem("OrigincartQty"));i.forEach((function(t,a){var i=e.cart.carts.filter((function(a){return a.product_id===t.product_id&&a.qty!==parseInt(t.qty)}));s=s.concat(i)})),e.alterCart=s},updateCartqty:function(){var t=this;t.alterCart.length>0&&t.alterCart.forEach((function(a,e){var s=a.id,i=a.product_id,n=parseInt(a.qty);t.$store.dispatch("cartModules/updateCartQty",{originCartId:s,originProductId:i,newQty:n}),t.alterCart=[],t.getCart()}))}},components:{cartMessage:c["a"]},watch:{alterCart:function(){var t=this;0===t.alterCart.length&&(t.disNext=!1,t.isDisabled=!0),t.alterCart.length>0&&(t.disNext=!0,t.isDisabled=!1),t.tempdropCart=t.alterCart.filter((function(t){return 0===parseInt(t.qty)}))}},beforeMount:function(){this.screenWidth=window.screen.width},created:function(){this.getCart()}},l=o,d=(e("9c65"),e("2877")),u=Object(d["a"])(l,s,i,!1,null,null,null);a["default"]=u.exports},fb6a:function(t,a,e){"use strict";var s=e("23e7"),i=e("861d"),n=e("e8b5"),r=e("23cb"),c=e("50c4"),o=e("fc6a"),l=e("8418"),d=e("b622"),u=e("1dde"),p=e("ae40"),C=u("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),b=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!C||!f},{slice:function(t,a){var e,s,d,u=o(this),p=c(u.length),C=r(t,p),f=r(void 0===a?p:a,p);if(n(u)&&(e=u.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?i(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return b.call(u,C,f);for(s=new(void 0===e?Array:e)(m(f-C,0)),d=0;C<f;C++,d++)C in u&&l(s,d,u[C]);return s.length=d,s}})}}]);
//# sourceMappingURL=chunk-323844a4.6989b0cf.js.map