(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f399fd22"],{2532:function(t,s,e){"use strict";var a=e("23e7"),r=e("5a34"),i=e("1d80"),c=e("ab13");a({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"2a33":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container",attrs:{id:"productDetail"}},[e("cartMessage"),e("div",{staticClass:"spacing"}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 d-flex justify-content-center"},[e("img",{staticClass:"img-fluid rounded",attrs:{src:t.productDetail.imageUrl,alt:""}})]),e("div",{staticClass:"col-lg-6 d-flex flex-column justify-content-around"},[e("div",{staticClass:"text-endless"},[e("h2",{staticClass:"my-3"},[t._m(0),t._v(" "+t._s(t.productDetail.title)+" ")]),e("p",{staticClass:"mb-2",staticStyle:{"text-indent":"2em"}},[t._v(t._s(t.productDetail.content))]),e("p",{staticStyle:{"text-indent":"2em"}},[t._v(t._s(t.productDetail.description))]),e("div",{staticClass:"text-right mb-4"},[e("del",{staticClass:"font-weight-lighter"},[e("span",{staticClass:"my-2"},[t._v("原價："+t._s(t._f("currency")(t.productDetail.origin_price)))])]),e("br"),e("span",{staticClass:"h4 text-warning font-weight-bolder"},[t._v("特價:"+t._s(t._f("currency")(t.productDetail.price)))])])]),e("div",{staticClass:"d-flex justify-content-end"},[e("div",{staticClass:"input-group",staticStyle:{width:"100%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.productNum,expression:"productNum"}],staticClass:"custom-select border border-warning text-dark form-control",attrs:{id:"inputGroupSelect04"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.productNum=s.target.multiple?e:e[0]}}},[e("option",{attrs:{selected:"",disabled:""},domProps:{value:0}},[t._v("--請選購數量--")]),t._l(10,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" 選購 "+t._s(s)+" "+t._s(t.productDetail.unit)+" ")])}))],2),e("div",{staticClass:"input-group-append text-right"},[e("button",{staticClass:"btn btn-outline-warning",class:{discursor:0===t.productNum},attrs:{type:"button",disabled:0===t.productNum},on:{click:function(s){return s.preventDefault(),t.addtoCart(t.productDetail.id,t.productNum)}}},[t._v(" 購物車 "),e("i",{staticClass:"fas fa-plus-circle"})])])])]),e("div",{staticClass:"text-warning font-weight-bolder text-right",staticStyle:{height:"25px"}},[t.subtotal?e("span",[t._v("小計："+t._s(t._f("currency")(t.subtotal)))]):t._e()])])]),e("div",{staticClass:"px-5 my-4"}),e("adList")],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",[e("i",{staticClass:"fas fa-crown text-warning"})])}],i=(e("4de4"),e("5530")),c=e("2f62"),n=e("c9aa"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bg-adList px-2 py-2 rounded mb-5"},[e("h2",{staticClass:"my-5 text-endless"},[0!==t.carouselList.length?e("span",[e("i",{staticClass:"fas fa-store text-warning mr-3"}),t._v(" 你可能也喜歡這 "),e("font",{staticClass:"text-warning"},[t._v(t._s(t.carouselList.length))]),t._v(" 件商品 ")],1):0===t.carouselList.length?e("span",[e("i",{staticClass:"fas fa-store text-warning mr-3"}),e("font",{staticClass:"text-warning"},[t._v("沒有推薦的商品")]),e("div",{staticClass:"text-warning py-5 text-center"},[e("router-link",{staticClass:"btn btn-outline-warning",attrs:{to:"/productList"}},[e("h3",{staticClass:"p-2"},[t._v("來去逛逛"),e("i",{staticClass:"fas fa-shipping-fast"})])])],1)],1):t._e()]),e("div",{staticClass:"carousel slide",attrs:{id:"carouselList","data-ride":"carousel"}},[e("div",{staticClass:"carousel-inner my-5"},[t._l(t.listNum,(function(s,a){return e("div",{key:a,staticClass:"carousel-item",class:{active:1===s}},[e("div",{staticClass:"row"},t._l(t.carouselList.slice((s-1)*t.pageofList,t.pageofList*s),(function(s,a){return e("div",{key:a,staticClass:"card col-lg-3 col-md-6 col-sm-6 col-12 my-2",on:{click:function(e){return e.preventDefault(),t.getproduct(s.id)}}},[e("div",{staticClass:"card-body rounded",style:"background-image:url("+s.imageUrl+")"},[e("h5",{staticClass:"ad-card-title"},[t._v(" "+t._s(s.title)+" ")]),e("h6",{staticClass:"ad-card-hover-title"},[t._v(" 查看更多 ")])])])})),0)])})),e("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"carousel-control-prev",attrs:{href:"#carouselList",role:"button","data-slide":"prev"}},[e("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Previous")])]),t.carouselList.length>4?e("a",{staticClass:"carousel-control-next",staticStyle:{width:"4%","background-color":"rgba(0,0,0,1)"},attrs:{href:"#carouselList",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Next")])]):t._e()],2)])])},l=[],u=(e("caad"),e("2532"),{data:function(){return{tempProduct:{},listNum:0,pageofList:4}},computed:Object(i["a"])({},Object(c["c"])("productsModules",["productDetail","products"]),{carouselList:function(){var t=this;t.tempProduct=t.productDetail;var s=t.products.filter((function(s){var e=s.category.includes(t.tempProduct.category)&&s.id!==t.productDetail.id;return e}));return 0!==s&&(t.listNum=Math.ceil(s.length/t.pageofList)),s}}),methods:{getproduct:function(t){var s=this;s.$store.dispatch("productsModules/getproductId",t)}},beforeMount:function(){var t=this;window.screen.width<768?t.pageofList=1:768===window.screen.width&&(t.pageofList=2)}}),d=u,p=e("2877"),f=Object(p["a"])(d,o,l,!1,null,null,null),v=f.exports,g={name:"Product",data:function(){return{productNum:0}},computed:Object(i["a"])({},Object(c["c"])("productsModules",["productDetail"]),{},Object(c["c"])("cartModules",["cart"]),{},Object(c["c"])(["isLoading"]),{subtotal:function(){var t=this.productDetail.price*this.productNum;return t}}),methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("productsModules/getProducts",t)},getProductDetail:function(t){this.$store.dispatch("productsModules/getproductDetail",t)},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,a=e.cart.carts.filter((function(s){return s.product_id===t}));if(a.length>0){var r=a[0],i=r.id,c=r.product.id,n=parseInt(r.qty)+parseInt(s);e.$store.dispatch("cartModules/updateCartQty",{originCartId:i,originProductId:c,newQty:n})}else e.$store.dispatch("cartModules/addtoCart",{id:t,qty:s})}},watch:{$route:function(t,s){this.getProductDetail(t.params.productID)}},components:{cartMessage:n["a"],adList:v},created:function(){this.getProducts();var t=this.$route.params.productID;this.getProductDetail(t)}},h=g,m=Object(p["a"])(h,a,r,!1,null,null,null);s["default"]=m.exports},"44e7":function(t,s,e){var a=e("861d"),r=e("c6b6"),i=e("b622"),c=i("match");t.exports=function(t){var s;return a(t)&&(void 0!==(s=t[c])?!!s:"RegExp"==r(t))}},"5a34":function(t,s,e){var a=e("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},ab13:function(t,s,e){var a=e("b622"),r=a("match");t.exports=function(t){var s=/./;try{"/./"[t](s)}catch(e){try{return s[r]=!1,"/./"[t](s)}catch(a){}}return!1}},caad:function(t,s,e){"use strict";var a=e("23e7"),r=e("4d64").includes,i=e("44d2"),c=e("ae40"),n=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!n},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=chunk-f399fd22.992fd6a0.js.map